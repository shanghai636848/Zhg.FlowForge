@using Zhg.FlowForge.App.Shared.Services
@inherits LayoutComponentBase
@inject ScrollService ScrollService

<div class="container-full-3xl">
    <div class="flex flex-col min-h-screen">
        <header id="main-header"
                class="h-16 fixed top-0 left-0 right-0 z-50 flex items-center px-4
                   transition-colors duration-300
                   @(ScrollService.CurrentScrollY > 30
                                      ? "bg-white/50 text-gray-900 backdrop-blur-md"
                                      : "bg-gray-800 text-white backdrop-blur-none")">
            Header
        </header>

        <main class="flex-1 mt-16 p-4">
            @Body
        </main>

        <footer class="bg-gray-800 text-white p-4">Footer</footer>
    </div>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await ScrollService.InitializeAsync();
        }
    }
}
@using Zhg.FlowForge.App.Shared.Services
@inject ILocalizationService Localization
@inject NavigationManager Navigation

<footer class="bg-slate-900 text-white">
	<div class="mx-auto max-w-full px-3 py-2.5">
		<div class="flex flex-col items-center justify-between gap-2 md:flex-row">
			<!-- Logo 和公司信息 -->
			<div class="flex flex-col items-center gap-1.5 md:items-start">
				<div class="flex items-center gap-1.5">
					<div class="flex h-6 w-6 items-center justify-center rounded-md bg-gradient-to-br from-blue-500 via-indigo-500 to-purple-600 shadow-sm">
						<svg class="h-3.5 w-3.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
						</svg>
					</div>
					<span class="bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600 bg-clip-text text-xs font-bold text-transparent">
						苏州智慧谷激光智能装备有限公司
					</span>
				</div>
			</div>

			<!-- 联系信息 -->
			<div class="flex flex-wrap items-center justify-center gap-x-3 gap-y-1 text-[11px] text-slate-600">
				<div class="flex items-center gap-1">
					<i class="fas fa-phone text-[10px] text-blue-500"></i>
					<span>13776027737</span>
				</div>
				<span class="text-slate-300">|</span>
				<div class="flex items-center gap-1">
					<i class="fas fa-envelope text-[10px] text-indigo-500"></i>
					<span>witvalley@kswitvalley.com</span>
				</div>
				<span class="hidden text-slate-300 md:inline">|</span>
				<div class="flex items-center gap-1">
					<i class="fas fa-map-marker-alt text-[10px] text-purple-500"></i>
					<span class="text-center md:text-left">苏州市相城区永昌路28号ESR产业园A2-2</span>
				</div>
			</div>
		</div>
	</div>

	<!-- 返回顶部按钮 -->
	@if (ShowBackToTop)
	{
		<button class="fixed right-6 bottom-6 z-30 flex h-11
	                          w-11 animate-[fadeIn_0.3s_ease-out] items-center justify-center
	                          rounded-full bg-blue-600 text-white shadow-lg
	                          transition-all hover:scale-110 hover:bg-blue-700"
				@onclick="ScrollToTop">
			<i class="fas fa-arrow-up"></i>
		</button>
	}
</footer>

<style>
	.footer-link {
		@@apply text-sm text-slate-400 hover:text-white transition-colors;
	}
</style>

@code {
	private bool ShowBackToTop = false;

	protected override void OnInitialized()
	{
		// 监听滚动事件来显示/隐藏返回顶部按钮
	}

	private void OpenLanguageModal()
	{
		// 打开语言选择模态框
	}

	private void OpenThemeModal()
	{
		// 打开主题选择模态框
	}

	private void ScrollToTop()
	{
		// 滚动到顶部
	}

	private string GetCurrentLanguageName()
	{
		var current = Localization.AvailableLanguages
			.FirstOrDefault(l => l.Code == Localization.CurrentLanguage);
		return current?.NativeName ?? "中文";
	}
}